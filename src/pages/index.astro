---
import Layout from '../layouts/Layout.astro';
import { client } from '../../tina/__generated__/client';

let page;
try {
  const pageResponse = await client.queries.page({ relativePath: 'home.md' });
  page = pageResponse.data.page;
} catch (e) {
  console.warn("Could not fetch Tina content, using fallback.");
  page = {
    title: "Fitness Center Drensteinfurt",
    heroHeadline1: "STÄRKER",
    heroHeadline2: "WERDEN",
    heroSubheadline: "Erreiche deine Fitnessziele mit unserem professionellen Training. Next-Level Equipment für Next-Level Performance.",
    pricing: [
      { name: "BASIC", price: "29,90", period: "€ / mtl.", features: ["Gerätepark & Cardio", "Milon Zirkel", "Freihantelbereich"] },
      { name: "ALL-IN", featured: true, price: "40,00", period: "€ / mtl.", features: ["Alles aus Basic", "Alle Kurse Inklusive", "Sauna Wellness Access", "Solarium Flatrate"] },
      { name: "FLEX", price: "50,00", period: "€ / mtl.", features: ["Monatlich Kündbar", "Full All-In Access", "Maximale Flexibilität"] }
    ]
  };
}
---

<Layout title={page.title ? `${page.title} | Fitness Center Drensteinfurt` : "Fitness Center Drensteinfurt | Dein High-End Studio"}>
    <!-- --- INTRO OVERLAY --- -->
    <div id="intro-overlay"
        class="fixed inset-0 z-[1000] bg-black flex flex-col items-center justify-center font-display overflow-hidden">
        <!-- Background Noise -->
        <div
            class="absolute inset-0 opacity-[0.03] pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/asfalt-dark.png')]">
        </div>

        <!-- Kinetic Type Container -->
        <div class="kinetic-container relative flex flex-col items-center justify-center pointer-events-none">
            <h1
                class="kinetic-text absolute opacity-0 text-[12vw] font-black tracking-tighter uppercase text-stroke-1 text-white/20 whitespace-nowrap">
                Power</h1>
            <h1
                class="kinetic-text absolute opacity-0 text-[12vw] font-black tracking-tighter uppercase text-primary whitespace-nowrap">
                Precision</h1>
            <h1
                class="kinetic-text absolute opacity-0 text-[12vw] font-black tracking-tighter uppercase text-accent-pink whitespace-nowrap">
                Performance</h1>
        </div>

        <!-- Final Logo Landing -->
        <div id="intro-logo-container" class="absolute opacity-0 scale-75 blur-md">
            <img src="/67dd352c34b4bd77e6db5d2c_relume-76854.png" alt="Logo" width="400" height="150"
                class="h-32 md:h-48 drop-shadow-[0_0_30px_rgba(0,176,240,0.5)]">
        </div>

        <!-- Progress Indicator (Minimalist) -->
        <div class="absolute bottom-12 left-1/2 -translate-x-1/2 w-48 h-[1px] bg-white/10 overflow-hidden">
            <div id="intro-progress" class="w-0 h-full bg-primary/50"></div>
        </div>
    </div>
    <!-- Navigation -->
    <div class="navbar-container sticky top-0 z-50 w-full border-b border-white/10 bg-black/80 backdrop-blur-md">
        <div class="flex h-20 items-center justify-between px-6 lg:px-12 max-w-[1400px] mx-auto">
            <!-- Logo Wrapper with fixed width to reserve space -->
            <div class="relative w-40 h-full flex items-center z-50">
                <!-- Absolute positioned logo that overflows the container -->
                <img src="/67dd352c34b4bd77e6db5d2c_relume-76854.png" alt="Fitness Center Drensteinfurt Logo" width="400" height="150"
                    class="absolute top-4 left-0 h-32 w-auto max-w-none object-contain drop-shadow-[0_0_15px_rgba(0,176,240,0.5)]">
            </div>
            <nav class="hidden lg:flex items-center gap-10">
                <a class="nav-link relative text-white hover:text-primary transition-colors text-sm font-bold tracking-wider uppercase group py-2"
                    href="#">
                    Start
                    <span
                        class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full shadow-[0_0_10px_rgba(0,176,240,0.8)]"></span>
                </a>
                <a class="nav-link relative text-white hover:text-primary transition-colors text-sm font-bold tracking-wider uppercase group py-2"
                    href="#studio">
                    Studio
                    <span
                        class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full shadow-[0_0_10px_rgba(0,176,240,0.8)]"></span>
                </a>
                <a class="nav-link relative text-white hover:text-primary transition-colors text-sm font-bold tracking-wider uppercase group py-2"
                    href="#kursplan">
                    Kursplan
                    <span
                        class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full shadow-[0_0_10px_rgba(0,176,240,0.8)]"></span>
                </a>
                <a class="nav-link relative text-white hover:text-primary transition-colors text-sm font-bold tracking-wider uppercase group py-2"
                    href="#preise">
                    Preise
                    <span
                        class="absolute bottom-0 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full shadow-[0_0_10px_rgba(0,176,240,0.8)]"></span>
                </a>
            </nav>
            <div class="flex items-center gap-4">
                <a href="mailto:info@fitnesscenter-drensteinfurt.de" style="--btn-bg: #00b0f0; --btn-hover-bg: #fff; --glow: #fff; --text: #000; --text-hover: #000;"
                    class="btn-cyber hidden sm:flex items-center justify-center h-10 px-6 rounded-sm skew-x-[-10deg] shadow-neon-blue group">
                    <span class="relative z-10 skew-x-[10deg] text-sm font-bold tracking-wider uppercase">Zum
                        Probetraining</span>
                </a>
                <button id="open-menu" class="lg:hidden text-white" aria-label="Menü öffnen">
                    <span class="material-symbols-outlined text-3xl">menu</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu"
        class="fixed inset-0 z-[2000] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center gap-8 opacity-0 pointer-events-none transition-all duration-500">
        <button id="close-menu" class="absolute top-6 right-6 text-white hover:text-primary transition-colors">
            <span class="material-symbols-outlined text-4xl">close</span>
        </button>
        <nav class="flex flex-col items-center gap-8">
            <a class="mobile-nav-link text-2xl font-bold uppercase tracking-wider text-white hover:text-primary transition-colors"
                href="#">Start</a>
            <a class="mobile-nav-link text-2xl font-bold uppercase tracking-wider text-white hover:text-primary transition-colors"
                href="#studio">Studio</a>
            <a class="mobile-nav-link text-2xl font-bold uppercase tracking-wider text-white hover:text-primary transition-colors"
                href="#kursplan">Kursplan</a>
            <a class="mobile-nav-link text-2xl font-bold uppercase tracking-wider text-white hover:text-primary transition-colors"
                href="#preise">Preise</a>
        </nav>
    </div>

    <!-- Hero Section -->
    <div class="relative w-full min-h-[90vh] flex flex-col justify-center overflow-hidden">
        <!-- Background with Overlay -->
        <div class="absolute inset-0 z-0 bg-black">
            <!-- 1. RETRO ECHO LAYERS (RGB Split Highlight) -->
            <div class="hero-echo-cyan absolute inset-0 bg-cover bg-center bg-no-repeat opacity-0 z-[5] mix-blend-screen"
                style="background-image: url('/hero-bg.jpg'); filter: hue-rotate(180deg) brightness(1.5) blur(4px); transform: translateX(-10px) scale(1.02);">
            </div>
            <div class="hero-echo-pink absolute inset-0 bg-cover bg-center bg-no-repeat opacity-0 z-[5] mix-blend-screen"
                style="background-image: url('/hero-bg.jpg'); filter: hue-rotate(300deg) brightness(1.5) blur(4px); transform: translateX(10px) scale(1.02);">
            </div>

            <!-- 2. BASE IMAGE LAYER (Visible & Strong) -->
            <div class="hero-bg-image absolute inset-0 bg-cover bg-center bg-no-repeat opacity-80 z-10"
                style="background-image: url('/hero-bg.jpg');"></div>

            <!-- 3. GRADIENT OVERLAY (For readability) -->
            <div class="absolute inset-0 bg-gradient-to-r from-black via-black/60 to-transparent z-20"></div>

            <!-- Tech Grid Overlay -->
            <div class="absolute inset-0 bg-cyber-grid bg-[length:40px_40px] opacity-20 z-0 pointer-events-none">
            </div>
            <!-- Dynamic Cyber Aura -->
            <canvas id="hero-aura" class="absolute inset-0 z-0 pointer-events-none opacity-40"></canvas>
        </div>
        <div
            class="relative z-20 w-full max-w-[1400px] mx-auto px-6 lg:px-12 py-20 grid lg:grid-cols-2 gap-12 items-center">
            <!-- Left Column: Content -->
            <div class="hero-content flex flex-col gap-8 max-w-2xl">

                <h1 class="text-5xl lg:text-7xl font-black mb-6 tracking-tighter leading-none uppercase">
                    DEINE MISSION:<br>
                    <span
                        class="inline-block w-[280px] lg:w-[420px] overflow-hidden whitespace-nowrap align-baseline text-left pt-4 pb-1">
                        <span id="glitch-target"
                            class="text-transparent bg-clip-text bg-gradient-to-r from-primary via-white to-primary bg-300% animate-gradient">{page.heroHeadline1}</span>
                    </span>
                    <span
                        class="text-transparent bg-clip-text bg-gradient-to-r from-primary via-white to-primary bg-300% animate-gradient">{page.heroHeadline2}</span>
                </h1>
                <p
                    class="text-gray-400 text-lg sm:text-xl font-normal max-w-lg leading-relaxed border-l-2 border-white/20 pl-6">
                    {page.heroSubheadline}
                </p>
                <div class="flex flex-wrap gap-4 mt-4">
                    <a href="mailto:info@fitnesscenter-drensteinfurt.de"
                        style="--btn-bg: #00b0f0; --btn-hover-bg: #fff; --glow: #fff; --text: #000; --text-hover: #000;"
                        class="btn-cyber relative h-14 px-8 shadow-neon-blue rounded-sm skew-x-[-10deg] group z-10 flex items-center justify-center">
                        <span
                            class="relative z-10 block skew-x-[10deg] font-black text-base tracking-wider uppercase">Zum
                            Probetraining</span>
                    </a>
                    <a href="#kursplan"
                        style="--btn-bg: #000; --btn-hover-bg: rgba(230, 0, 126, 0.2); --glow: #E6007E; --text: #E6007E; --text-hover: #fff;"
                        class="btn-cyber relative h-14 px-8 border border-accent-pink/50 rounded-sm skew-x-[-10deg] group flex items-center justify-center">
                        <span
                            class="relative z-10 block skew-x-[10deg] flex items-center gap-2 font-black text-base tracking-wider uppercase">
                            Kursplan
                            <span class="material-symbols-outlined text-lg">arrow_forward</span>
                        </span>
                    </a>
                </div>
            </div>
            <!-- Right Column: HUD / Info Panel -->
            <div class="flex justify-start lg:justify-end">
                <div class="hero-hud animated-border relative w-full max-w-md bg-black p-1 rounded-2xl group">
                    <div class="bg-surface-dark/90 p-8 rounded-xl relative overflow-hidden">
                        <!-- Scanline effect -->
                        <div
                            class="absolute inset-0 bg-gradient-to-b from-transparent via-white/2 to-transparent h-full w-full animate-[scan_4s_linear_infinite] pointer-events-none">
                        </div>
                        <div class="flex items-center justify-between mb-8 pb-4 border-b border-white/10">
                            <h3 class="text-white text-xl font-bold uppercase tracking-widest flex items-center gap-2">
                                <span class="material-symbols-outlined text-primary">schedule</span>
                                Öffnungszeiten
                            </h3>
                        </div>
                        <div class="space-y-6 font-mono text-sm">
                            <div
                                class="flex justify-between items-center group/item hover:bg-white/5 p-2 rounded transition-colors border-l-2 border-transparent hover:border-primary">
                                <span class="text-gray-400 uppercase tracking-widest text-sm font-bold">MO - FR</span>
                                <span class="text-white font-bold text-lg tracking-wider text-shadow-glow">08:00 -
                                    22:00 Uhr</span>
                            </div>
                            <div
                                class="flex justify-between items-center group/item hover:bg-white/5 p-2 rounded transition-colors border-l-2 border-transparent hover:border-primary">
                                <span class="text-gray-400 uppercase tracking-widest text-sm font-bold">SA & SO</span>
                                <span class="text-white font-bold text-lg tracking-wider text-shadow-glow">10:00 -
                                    18:00 Uhr</span>
                            </div>
                            <div
                                class="flex justify-between items-center group/item hover:bg-white/5 p-2 rounded transition-colors border-l-2 border-transparent hover:border-accent-pink">
                                <span
                                    class="text-accent-pink uppercase tracking-widest text-sm font-bold">Feiertage</span>
                                <span class="text-white font-bold text-lg tracking-wider text-shadow-glow">10:00 -
                                    16:00 Uhr</span>
                            </div>
                        </div>
                        <div class="mt-8 pt-4 border-t border-white/10 flex items-center gap-3">
                            <div id="status-indicator"
                                class="size-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_10px_rgba(34,197,94,0.8)]">
                            </div>
                            <span id="status-text"
                                class="text-xs text-green-400 uppercase tracking-widest font-bold">Gym ist
                                geöffnet</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer Simple -->

    <!-- STUDIO SECTION -->
    <section id="studio" class="relative w-full py-32 bg-black overflow-hidden border-t border-white/10">
        <!-- Background Grid -->
        <div class="absolute inset-0 pointer-events-none opacity-20"
            style="background-image: linear-gradient(#1a1a1a 1px, transparent 1px), linear-gradient(90deg, #1a1a1a 1px, transparent 1px); background-size: 40px 40px;">
        </div>

        <div class="relative z-10 max-w-7xl mx-auto px-6">
            <!-- Header -->
            <div class="text-center mb-20">
                <div class="inline-block border border-[#E6007E] px-4 py-1 skew-x-[-10deg] mb-6">
                    <span class="block skew-x-[10deg] text-[#E6007E] font-mono text-sm tracking-widest uppercase">
                        // SECTOR: TRAINING_GROUNDS
                    </span>
                </div>
                <h2 class="text-5xl md:text-7xl font-bold font-heading text-white mb-6 uppercase tracking-tighter">
                    DAS STUDIO
                </h2>
                <p class="max-w-2xl mx-auto text-xl text-gray-400 font-light leading-relaxed">
                    Mach dir selbst ein Bild von unserem Studio und lass dich von den Impressionen inspirieren.
                    <span class="text-[#00b0f0]">High-End Equipment</span> trifft auf <span class="text-[#E6007E]">pure
                        Atmosphäre</span>.
                </p>
            </div>

            <!-- Tech Grid Logic -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-[300px]">

                <!-- Card 1: Milon Circle (Featured) -->
                <div
                    class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5 md:col-span-2">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b6573d90935f3bb238fd3_20250429_110953.jpg"
                        alt="Milon Zirkel Trainingsbereich im Fitness Center Drensteinfurt" loading="lazy" width="1200" height="800"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">

                    <!-- Overlay & Tech UI -->
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 transition-opacity group-hover:opacity-60">
                    </div>
                    <div
                        class="absolute top-4 left-4 w-2 h-2 bg-[#00b0f0] opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    </div>
                    <div
                        class="absolute top-4 right-4 text-xs font-mono text-[#00b0f0] opacity-0 group-hover:opacity-100 transition-opacity delay-100">
                        CAM_01 [MILON]
                    </div>
                    <div
                        class="absolute bottom-0 left-0 w-full p-6 border-t border-white/10 bg-black/40 backdrop-blur-sm translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out">
                        <h3 class="text-2xl font-bold text-white uppercase tracking-wider mb-1">Milon Zirkel</h3>
                        <p class="text-xs font-mono text-[#00b0f0]">/// EFFICIENCY: MAXIMIZED</p>
                    </div>
                </div>

                <!-- Card 2: Cardio Area -->
                <div class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b65d999b2aee6ed100eb5_20250429_112115.jpg"
                        alt="Moderner Cardio-Bereich" loading="lazy" width="800" height="600"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 transition-opacity group-hover:opacity-60">
                    </div>
                    <div
                        class="absolute top-4 left-4 w-2 h-2 bg-[#00b0f0] opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    </div>
                    <div
                        class="absolute top-4 right-4 text-xs font-mono text-[#00b0f0] opacity-0 group-hover:opacity-100 transition-opacity delay-100">
                        CAM_02 [CARDIO]
                    </div>
                    <div
                        class="absolute bottom-0 left-0 w-full p-6 border-t border-white/10 bg-black/40 backdrop-blur-sm translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out">
                        <h3 class="text-xl font-bold text-white uppercase tracking-wider mb-1">Cardio Zone</h3>
                        <p class="text-xs font-mono text-[#00b0f0]">/// ENDURANCE: INFINITE</p>
                    </div>
                </div>

                <!-- Card 3: Free Weights (Corrected Image) -->
                <div class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b7037d29f2e5486069b2c_20250429_114306.jpg"
                        alt="Professioneller Freihantelbereich" loading="lazy" width="800" height="600"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 transition-opacity group-hover:opacity-60">
                    </div>
                    <div
                        class="absolute top-4 left-4 w-2 h-2 bg-[#E6007E] opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    </div>
                    <div
                        class="absolute top-4 right-4 text-xs font-mono text-[#E6007E] opacity-0 group-hover:opacity-100 transition-opacity delay-100">
                        CAM_03 [FREE_WEIGHTS]
                    </div>
                    <div
                        class="absolute bottom-0 left-0 w-full p-6 border-t border-white/10 bg-black/40 backdrop-blur-sm translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out">
                        <h3 class="text-xl font-bold text-white uppercase tracking-wider mb-1">Free Weights</h3>
                        <p class="text-xs font-mono text-[#E6007E]">/// POWER: UNLEASHED</p>
                    </div>
                </div>

                <!-- Card 4: Entrance / Lounge (Span 2) -->
                <div
                    class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5 md:col-span-2">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b63848c54ab0ce9827e0d_20250429_110416.jpg"
                        alt="Lounge und Check-In Bereich" loading="lazy" width="1200" height="800"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent"></div>
                    <div
                        class="absolute top-4 right-4 border border-[#E6007E] px-2 py-1 text-[10px] text-[#E6007E] font-mono opacity-0 group-hover:opacity-100 transition-opacity">
                        STATUS: ACTIVE
                    </div>
                    <div class="absolute bottom-0 left-0 w-full p-6 text-right">
                        <h3
                            class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400 uppercase tracking-wider mb-1 opacity-80 group-hover:opacity-100 transition-all">
                            Lobby & Check-In
                        </h3>
                        <p
                            class="text-xs font-mono text-[#E6007E] opacity-0 group-hover:opacity-100 transition-opacity">
                            /// SOCIAL_GRID: ACTIVE</p>
                    </div>
                </div>

                <!-- Card 5: Relax Area -->
                <div class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b6e2e1fee02a24918537a_20250429_112153.jpg"
                        alt="Entspannungsbereich und Wellness" loading="lazy" width="800" height="600"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 transition-opacity group-hover:opacity-60">
                    </div>
                    <div
                        class="absolute top-4 left-4 w-2 h-2 bg-white opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    </div>
                    <div
                        class="absolute top-4 right-4 text-xs font-mono text-white opacity-0 group-hover:opacity-100 transition-opacity delay-100">
                        CAM_05 [RELAX]
                    </div>
                    <div
                        class="absolute bottom-0 left-0 w-full p-6 border-t border-white/10 bg-black/40 backdrop-blur-sm translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out">
                        <h3 class="text-xl font-bold text-white uppercase tracking-wider mb-1">Relax Area</h3>
                        <p class="text-xs font-mono text-white">/// STRESS_LEVEL: ZERO</p>
                    </div>
                </div>

                <!-- Card 6: Solarium (Corrected Image) -->
                <div class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b6e78623a7fffdea7bd16_20250429_110727.jpg"
                        alt="Modernes Solarium" loading="lazy" width="800" height="600"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 transition-opacity group-hover:opacity-60">
                    </div>
                    <div
                        class="absolute top-4 left-4 w-2 h-2 bg-[#E6007E] opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    </div>
                    <div
                        class="absolute top-4 right-4 text-xs font-mono text-[#E6007E] opacity-0 group-hover:opacity-100 transition-opacity delay-100">
                        CAM_06 [SOLARIUM]
                    </div>
                    <div
                        class="absolute bottom-0 left-0 w-full p-6 border-t border-white/10 bg-black/40 backdrop-blur-sm translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out">
                        <h3 class="text-xl font-bold text-white uppercase tracking-wider mb-1">Solarium</h3>
                        <p class="text-xs font-mono text-[#E6007E]">/// UV_MODULE: ONLINE</p>
                    </div>
                </div>

            </div>

            <!-- More Images Grid (Smaller row - Now Full Cyber) -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 h-[200px]">

                <!-- B1: Locker Room -->
                <div class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b6f8bc3f6d5c294dd869c_20250429_114111.jpg"
                        loading="lazy" alt="Umkleideräume" width="400" height="300"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-80 transition-opacity group-hover:opacity-60">
                    </div>
                    <div
                        class="absolute top-2 right-2 text-[10px] font-mono text-white opacity-0 group-hover:opacity-100 transition-opacity">
                        CAM_07</div>
                    <div
                        class="absolute bottom-0 left-0 w-full p-2 bg-black/50 backdrop-blur-sm translate-y-full group-hover:translate-y-0 transition-transform duration-300">
                        <span class="text-xs font-bold text-white uppercase">Locker Room</span>
                    </div>
                </div>

                <!-- B2: Solarium 2 -->
                <div class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b6f0f14986661c59e75ae_20250429_113755.jpg" width="400" height="300" alt="Relax / Sun"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-80 transition-opacity group-hover:opacity-60">
                    </div>
                    <div
                        class="absolute top-2 right-2 text-[10px] font-mono text-[#E6007E] opacity-0 group-hover:opacity-100 transition-opacity">
                        CAM_08</div>
                    <div
                        class="absolute bottom-0 left-0 w-full p-2 bg-black/50 backdrop-blur-sm translate-y-full group-hover:translate-y-0 transition-transform duration-300">
                        <span class="text-xs font-bold text-white uppercase">Relax / Sun</span>
                    </div>
                </div>

                <!-- B3: Solarium 3 -->
                <div class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b672b9d58db77ea1b862d5_20250429_110810.jpg" width="400" height="300" alt="Vitamin D"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-80 transition-opacity group-hover:opacity-60">
                    </div>
                    <div
                        class="absolute top-2 right-2 text-[10px] font-mono text-[#E6007E] opacity-0 group-hover:opacity-100 transition-opacity">
                        CAM_09</div>
                    <div
                        class="absolute bottom-0 left-0 w-full p-2 bg-black/50 backdrop-blur-sm translate-y-full group-hover:translate-y-0 transition-transform duration-300">
                        <span class="text-xs font-bold text-white uppercase">Vitamin D</span>
                    </div>
                </div>

                <!-- B4: Milon 2 -->
                <div class="group relative h-full w-full overflow-hidden border border-white/10 bg-white/5">
                    <img src="https://cdn.prod.website-files.com/67dd34afb8ffae63ccf1f97a/681b6c39a7eb0f48bb60b39b_20250429_111508.jpg" width="400" height="300" alt="Circuit View"
                        class="absolute inset-0 w-full h-full object-cover opacity-60 grayscale transition-all duration-700 ease-out group-hover:opacity-100 group-hover:grayscale-0 group-hover:scale-105">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-80 transition-opacity group-hover:opacity-60">
                    </div>
                    <div
                        class="absolute top-2 right-2 text-[10px] font-mono text-[#00b0f0] opacity-0 group-hover:opacity-100 transition-opacity">
                        CAM_10</div>
                    <div
                        class="absolute bottom-0 left-0 w-full p-2 bg-black/50 backdrop-blur-sm translate-y-full group-hover:translate-y-0 transition-transform duration-300">
                        <span class="text-xs font-bold text-white uppercase">Circuit View</span>
                    </div>
                </div>

            </div>


            <!-- CTA Footer -->
            <div class="text-center mt-20">
                <a href="mailto:info@fitnesscenter-drensteinfurt.de" class="btn-cyber group relative px-8 py-3 bg-transparent border-none cursor-pointer inline-block"
                    style="--btn-bg: #00b0f0; --btn-hover-bg: #fff; --glow: #fff; --text: #000; --text-hover: #000;">
                    <span
                        class="relative z-10 font-bold uppercase tracking-wider group-hover:text-[var(--text-hover)] transition-colors duration-300">
                        KOSTENLOSES PROBETRAINING STARTEN
                    </span>
                    <span
                        class="absolute inset-0 border border-[var(--glow)] skew-x-[-10deg] opacity-70 group-hover:opacity-100 transition-all duration-300"></span>
                    <span
                        class="absolute inset-0 bg-[var(--glow)] opacity-0 group-hover:opacity-10 skew-x-[-10deg] transition-all duration-300"></span>
                </a>
            </div>
        </div>
    </section>

    <!-- KURSPLAN SECTION (OPERATIONS SCHEDULE) -->
    <section id="kursplan" class="relative w-full py-32 bg-[#050505] overflow-hidden border-t border-white/10">
        <div
            class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150">
        </div>

        <div class="relative z-10 max-w-5xl mx-auto px-6">
            <!-- Header -->
            <div class="text-center mb-16">
                <span
                    class="inline-block border border-[#00b0f0] px-4 py-1 skew-x-[-10deg] mb-6 text-[#00b0f0] font-mono text-sm tracking-widest uppercase bg-[#00b0f0]/10">
                    // SYSTEM_PROTOKOLL: ACTIVE
                </span>
                <h2
                    class="text-5xl md:text-7xl font-bold font-heading text-white mb-4 uppercase tracking-tighter shimmer-text">
                    KURSPLAN
                </h2>
                <div class="h-1 w-24 bg-[#E6007E] mx-auto skew-x-[-20deg]"></div>
            </div>

            <!-- Filter Tabs (Miller's Law: Chunking) -->
            <div class="flex flex-wrap justify-center gap-2 mb-12" id="day-filters" role="tablist" aria-label="Wochentage">
                <button
                    class="filter-btn active relative px-6 py-2 border border-white/20 bg-white/5 text-white font-mono text-sm uppercase tracking-widest hover:bg-white/10 hover:border-[#00b0f0] hover:text-[#00b0f0] transition-all duration-300 skew-x-[-10deg]"
                    data-filter="mon" role="tab" aria-selected="true" aria-controls="schedule-list">
                    <span class="block skew-x-[10deg]">MO</span>
                </button>
                <button
                    class="filter-btn relative px-6 py-2 border border-white/20 bg-transparent text-gray-400 font-mono text-sm uppercase tracking-widest hover:bg-white/5 hover:border-[#00b0f0] hover:text-[#00b0f0] transition-all duration-300 skew-x-[-10deg]"
                    data-filter="tue" role="tab" aria-selected="false" aria-controls="schedule-list">
                    <span class="block skew-x-[10deg]">DI</span>
                </button>
                <button
                    class="filter-btn relative px-6 py-2 border border-white/20 bg-transparent text-gray-400 font-mono text-sm uppercase tracking-widest hover:bg-white/5 hover:border-[#00b0f0] hover:text-[#00b0f0] transition-all duration-300 skew-x-[-10deg]"
                    data-filter="wed" role="tab" aria-selected="false" aria-controls="schedule-list">
                    <span class="block skew-x-[10deg]">MI</span>
                </button>
                <button
                    class="filter-btn relative px-6 py-2 border border-white/20 bg-transparent text-gray-400 font-mono text-sm uppercase tracking-widest hover:bg-white/5 hover:border-[#00b0f0] hover:text-[#00b0f0] transition-all duration-300 skew-x-[-10deg]"
                    data-filter="thu" role="tab" aria-selected="false" aria-controls="schedule-list">
                    <span class="block skew-x-[10deg]">DO</span>
                </button>
                <button
                    class="filter-btn relative px-6 py-2 border border-white/20 bg-transparent text-gray-400 font-mono text-sm uppercase tracking-widest hover:bg-white/5 hover:border-[#00b0f0] hover:text-[#00b0f0] transition-all duration-300 skew-x-[-10deg]"
                    data-filter="fri" role="tab" aria-selected="false" aria-controls="schedule-list">
                    <span class="block skew-x-[10deg]">FR</span>
                </button>
                <button
                    class="filter-btn relative px-6 py-2 border border-white/20 bg-transparent text-gray-400 font-mono text-sm uppercase tracking-widest hover:bg-white/5 hover:border-[#00b0f0] hover:text-[#00b0f0] transition-all duration-300 skew-x-[-10deg]"
                    data-filter="sun" role="tab" aria-selected="false" aria-controls="schedule-list">
                    <span class="block skew-x-[10deg]">SO</span>
                </button>
            </div>

            <!-- Schedule List (Hick's Law: Minimized Complexity) -->
            <div class="space-y-2 font-mono" id="schedule-list">
                <!-- MONTAG -->
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="mon">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">17:45</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Stretching</h3>
                            <span class="text-xs text-gray-500 uppercase">Studio 1</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                        <span class="text-xs text-gray-400 hidden md:block">ONLINE</span>
                    </div>
                </div>
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="mon">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">18:45</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                BBP</h3>
                            <span class="text-xs text-gray-500 uppercase">Bauch Beine Po</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                        <span class="text-xs text-gray-400 hidden md:block">ONLINE</span>
                    </div>
                </div>
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="mon">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">19:45</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Cycling</h3>
                            <span class="text-xs text-gray-500 uppercase">Cardio Room</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                        <span class="text-xs text-gray-400 hidden md:block">ONLINE</span>
                    </div>
                </div>

                <!-- DIENSTAG -->
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="tue">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">17:30</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                HIIT</h3>
                            <span class="text-xs text-gray-500 uppercase">High Intensity</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="tue">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">18:30</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Zumba</h3>
                            <span class="text-xs text-gray-500 uppercase">Dance Workout</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="tue">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">19:30</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Boxen</h3>
                            <span class="text-xs text-gray-500 uppercase">Bis 21:00</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>

                <!-- MITTWOCH -->
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="wed">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">18:00</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Rückenfit</h3>
                            <span class="text-xs text-gray-500 uppercase">Health Focus</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="wed">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">19:00</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Cycling</h3>
                            <span class="text-xs text-gray-500 uppercase">Cardio Room</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>

                <!-- DONNERSTAG -->
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="thu">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">18:30</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Boxen</h3>
                            <span class="text-xs text-gray-500 uppercase">Bis 20:30</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>

                <!-- FREITAG -->
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="fri">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">08:30</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Yoga</h3>
                            <span class="text-xs text-gray-500 uppercase">Flow & Balance</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="fri">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">17:30</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Sixpack</h3>
                            <span class="text-xs text-gray-500 uppercase">Core Workout</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="fri">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">18:00</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Langhantel</h3>
                            <span class="text-xs text-gray-500 uppercase">Strength</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>

                <!-- SONNTAG -->
                <div class="course-row group flex items-center justify-between p-4 border-b border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                    data-day="sun">
                    <div class="flex items-center gap-6">
                        <span class="text-[#00b0f0] w-16 text-right">11:00</span>
                        <div>
                            <h3
                                class="text-white font-bold uppercase tracking-wider group-hover:text-[#E6007E] transition-colors">
                                Full Body Workout</h3>
                            <span class="text-xs text-gray-500 uppercase">Total Intensity</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- PRICING SECTION (MEMBERSHIP UPLINK) -->
    <section id="preise" class="relative w-full py-32 bg-[#050505] overflow-hidden border-t border-white/10">
        <!-- Background Noise -->
        <div
            class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150">
        </div>

        <div class="relative z-10 max-w-7xl mx-auto px-6">
            <!-- Header -->
            <div class="text-center mb-16">
                <span
                    class="inline-block border border-[#E6007E] px-4 py-1 skew-x-[-10deg] mb-6 text-[#E6007E] font-mono text-sm tracking-widest uppercase bg-[#E6007E]/10">
                    // SYSTEM_ACCESS: LEVEL_SELECT
                </span>
                <h2
                    class="text-5xl md:text-7xl font-bold font-heading text-white mb-4 uppercase tracking-tighter shimmer-text">
                    MEMBERSHIP
                </h2>
                <div class="h-1 w-24 bg-[#00b0f0] mx-auto skew-x-[-20deg]"></div>
            </div>

            <!-- Pricing Grid -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                {page.pricing?.map((plan) => (
                    <div
                        class={`group relative p-8 ${plan.featured ? 'bg-white/5 border border-[#E6007E] shadow-[0_0_30px_rgba(230,0,126,0.1)] hover:shadow-[0_0_40px_rgba(230,0,126,0.2)] hover:-translate-y-1' : 'bg-white/5 border border-white/10 hover:border-[#00b0f0]'} transition-all duration-300 backdrop-blur-sm rounded-sm h-full flex flex-col`}
                    >
                        {plan.featured && (
                            <div
                                class="absolute top-0 right-0 bg-[#E6007E] text-white text-xs font-bold px-3 py-1 uppercase tracking-widest transform translate-x-2 -translate-y-2 skew-x-[-10deg]">
                                Popular System
                            </div>
                        )}
                        {!plan.featured && (
                             <div
                                class="absolute inset-0 bg-[#00b0f0]/0 group-hover:bg-[#00b0f0]/5 transition-colors duration-300 pointer-events-none">
                            </div>
                        )}

                        <h3 class="text-2xl font-bold text-white mb-2 tracking-widest uppercase font-heading">{plan.name}</h3>
                        <div class="flex items-baseline gap-1 mb-6">
                            <span class={`text-4xl font-bold ${plan.featured ? 'text-[#E6007E]' : 'text-[#00b0f0]'} font-mono`}>{plan.price}</span>
                            <span class="text-xl text-gray-400">{plan.period}</span>
                        </div>

                        {plan.name === 'BASIC' && (
                             <div class="mb-8 p-3 bg-white/5 border border-white/10 rounded text-center">
                                <span class="block text-xs text-gray-400 uppercase tracking-wider mb-1">Student / Schüler</span>
                                <span class="block text-lg font-bold text-white font-mono">24,90 €</span>
                            </div>
                        )}

                        <ul class="space-y-4 mb-8 text-sm text-gray-300 font-mono flex-grow">
                            {plan.features?.map((feature) => (
                                <li class="flex items-center gap-3">
                                    <span class={`material-symbols-outlined ${plan.featured ? 'text-[#E6007E]' : 'text-[#00b0f0]'} text-sm`}>check_circle</span>
                                    <span class={plan.featured && feature?.startsWith("Alles aus") ? "font-bold text-white" : ""}>{feature}</span>
                                </li>
                            ))}
                        </ul>

                         <a href="mailto:info@fitnesscenter-drensteinfurt.de"
                            class={`w-full py-4 ${plan.featured ? 'bg-[#E6007E] text-white hover:bg-[#ff008c] shadow-[0_0_20px_rgba(230,0,126,0.5)]' : 'border border-[#00b0f0] text-[#00b0f0] hover:bg-[#00b0f0] hover:text-black'} font-bold uppercase tracking-widest hover:scale-[1.02] transition-all duration-300 skew-x-[-10deg] mt-auto block text-center`}>
                            <span class="block skew-x-[10deg]">{plan.featured ? 'VOLLZUGRIFF' : (plan.name === 'FLEX' ? 'FREISCHALTEN' : 'INITIEREN')}</span>
                        </a>
                        <p class="text-center text-xs text-gray-600 mt-4 mx-auto w-full">Laufzeit: {plan.name === 'FLEX' ? '1 Monat' : '12 Monate'}</p>
                    </div>
                ))}
            </div>

            <!-- Add-Ons Modular Panel -->
            <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-6 border-t border-white/10 pt-12">
                <div class="p-4 flex justify-between items-center border border-white/5 bg-white/[0.02]">
                    <span class="text-sm font-mono text-gray-400 uppercase">10er Karte All-In</span>
                    <span class="text-white font-bold font-mono">90 €</span>
                </div>
                <div class="p-4 flex justify-between items-center border border-white/5 bg-white/[0.02]">
                    <span class="text-sm font-mono text-gray-400 uppercase">10er Karte Boxen</span>
                    <span class="text-white font-bold font-mono">75 €</span>
                </div>
                <div class="p-4 flex justify-between items-center border border-white/5 bg-white/[0.02]">
                    <span class="text-sm font-mono text-gray-400 uppercase">Kurs-Flatrate</span>
                    <span class="text-white font-bold font-mono">35 € / mtl</span>
                </div>
            </div>
        </div>

        <footer class="bg-black border-t border-white/10 py-12">
            <div
                class="max-w-[1400px] mx-auto px-6 lg:px-12 flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="flex items-center gap-2 opacity-50 hover:opacity-100 transition-opacity">
                    <span class="material-symbols-outlined text-xl">fitness_center</span>
                    <span class="font-bold tracking-widest">DRENSTEINFURT</span>
                </div>
                <div class="flex flex-col items-center gap-2 text-gray-600 text-sm md:flex-row md:gap-6">
                    <span>© 2025 Fitness Center Drensteinfurt. All systems go.</span>
                    <div class="flex gap-4">
                        <a href="/impressum" class="hover:text-primary transition-colors">Impressum</a>
                        <a href="/datenschutz" class="hover:text-primary transition-colors">Datenschutz</a>
                    </div>
                </div>
                <div class="flex gap-6">
                    <a class="text-gray-500 hover:text-primary transition-colors" href="#"
                        aria-label="E-Mail Kontakt"><span class="material-symbols-outlined">alternate_email</span></a>
                    <a class="text-gray-500 hover:text-accent-pink transition-colors" href="#"
                        aria-label="Instagram Profil"><span class="material-symbols-outlined">camera_alt</span></a>
                </div>
            </div>
        </footer>
    </section>
</Layout>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";
    import { TextPlugin } from "gsap/TextPlugin";
    import { createNoise2D } from "simplex-noise";

    gsap.registerPlugin(ScrollTrigger, TextPlugin);

    // Filter Buttons logic
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', function (e) {
            const currentBtn = e.currentTarget as HTMLElement;
            // 1. Update Active State
            document.querySelectorAll('.filter-btn').forEach(b => {
                b.classList.remove('bg-white/5', 'text-white', 'border-[#00b0f0]');
                b.classList.add('bg-transparent', 'text-gray-400');
                b.setAttribute('aria-selected', 'false');
            });
            currentBtn.classList.remove('bg-transparent', 'text-gray-400');
            currentBtn.classList.add('bg-white/5', 'text-white', 'border-[#00b0f0]');
            currentBtn.setAttribute('aria-selected', 'true');

            // 2. Filter Rows
            const filter = currentBtn.getAttribute('data-filter');
            const rows = document.querySelectorAll('.course-row');

            rows.forEach((row) => {
                if (filter === 'all' || row.getAttribute('data-day') === filter) {
                    (row as HTMLElement).style.display = 'flex';
                    // Simple fade in
                    (row as HTMLElement).style.opacity = '0';
                    setTimeout(() => (row as HTMLElement).style.opacity = '1', 10);
                } else {
                    (row as HTMLElement).style.display = 'none';
                }
            });
        });
    });

    // Initialize: Trigger click on the active filter or default to 'mon'
    const activeBtn = document.querySelector('.filter-btn.active');
    if (activeBtn) {
        (activeBtn as HTMLElement).click();
    } else {
        const monBtn = document.querySelector('[data-filter="mon"]');
        if (monBtn) (monBtn as HTMLElement).click();
    }

    // --- 0. INITIAL SETUP (Hide page until intro) ---
    const introShown = sessionStorage.getItem('introShown');

    if (!introShown) {
        gsap.set(".navbar-container", { y: -100, opacity: 0 });
        gsap.set(".bg-cyber-grid", { opacity: 0 });
        gsap.set(".hero-content > *", { x: -50, opacity: 0 });
        gsap.set(".hero-hud", { scale: 0.8, opacity: 0, rotationX: 10 });

        // --- 1. INTRO OVERLAY TIMELINE ---
        const introTl = gsap.timeline({
            onComplete: () => {
                initMainAnimations();
                sessionStorage.setItem('introShown', 'true');
            }
        });

        const kineticTexts = document.querySelectorAll(".kinetic-text");
        const logoContainer = document.querySelector("#intro-logo-container");

        // Kinetic Sequence
        kineticTexts.forEach((text, i) => {
            introTl.fromTo(text,
                { opacity: 0, scale: 0.5, filter: "blur(20px)" },
                {
                    opacity: 1,
                    scale: 1,
                    filter: "blur(0px)",
                    duration: 0.4,
                    ease: "expo.out"
                }
            );

            // Progress bar sync
            introTl.to("#intro-progress", {
                width: `${((i + 1) / (kineticTexts.length + 1)) * 100}%`,
                duration: 0.4
            }, "<");

            introTl.to(text, {
                opacity: 0,
                scale: 1.5,
                duration: 0.3,
                ease: "expo.in"
            }, "+=0.2");
        });

        // Logo Reveal "Explosion"
        introTl.to(logoContainer, {
            opacity: 1,
            scale: 1,
            filter: "blur(0px)",
            duration: 0.8,
            ease: "elastic.out(1, 0.5)",
            onStart: () => {
                // Flash effect on overlay
                gsap.fromTo("#intro-overlay",
                    { backgroundColor: "#333" },
                    { backgroundColor: "#000", duration: 0.5 }
                );
            }
        }, "-=0.2");

        introTl.to("#intro-progress", { width: "100%", duration: 0.6 }, "<");

        // Exit Intro Overlay
        introTl.to("#intro-overlay", {
            yPercent: -100,
            ease: "expo.inOut",
            duration: 1.2
        }, "+=0.8");
    } else {
        // Skip intro, show everything immediately
        const overlay = document.getElementById("intro-overlay");
        if (overlay) overlay.style.display = "none";
        initMainAnimations();
    }

    // --- 2. MAIN PAGE ANIMATION SYSTEM ---
    function initMainAnimations() {
        const mainTl = gsap.timeline({ defaults: { ease: "power3.out" } });

        mainTl
            // Phase 1: Grid & Environment
            .to(".bg-cyber-grid", {
                opacity: 0.2,
                duration: 2,
                ease: "rough({strength: 1, points: 20})"
            })
            // Phase 2: Navigation
            .to(".navbar-container", { y: 0, opacity: 1, duration: 0.8 }, "-=1.5")
            // Phase 3: The "Boot Up" (HUD)
            .to(".hero-hud", {
                scale: 1,
                opacity: 1,
                rotationX: 0,
                duration: 0.8,
                ease: "back.out(1.7)"
            }, "-=0.5")
            // Phase 4: Content
            .to(".hero-content > *", {
                x: 0,
                opacity: 1,
                stagger: 0.1,
                duration: 0.8
            }, "-=0.4")
            .call(() => startRetroEcho());

        // Start loops that were previously auto-starting
        startGlitchLoop();
        startAuraAnimation();
    }

    // --- 2.2 RETRO ECHO ANIMATION ---
    function startRetroEcho() {
        const cyan = document.querySelector(".hero-echo-cyan");
        const pink = document.querySelector(".hero-echo-pink");
        if (!cyan || !pink) return;

        // Reveal layers
        gsap.to([cyan, pink], { opacity: 0.5, duration: 2, ease: "power2.out" });

        // Continuous Jitter Loop for Cyan
        gsap.to(cyan, {
            x: -15,
            duration: 0.04,
            repeat: -1,
            yoyo: true,
            ease: "none",
        });

        // Continuous Jitter Loop for Pink
        gsap.to(pink, {
            x: 15,
            duration: 0.05,
            repeat: -1,
            yoyo: true,
            ease: "none",
        });

        // Subtle Scale Pulse
        gsap.to([cyan, pink], {
            scale: 1.04,
            duration: 2,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut"
        });
    }




    // --- 3. TEXT GLITCH LOGIC ---
    function startGlitchLoop() {
        const textElement = document.getElementById("glitch-target");
        if (textElement) {
            const words = ["STÄRKER", "FITTER", "GESÜNDER"];
            let wordIndex = 0;

            function runGlitchEffect(element, newText, duration = 600) {
                const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
                const originalText = newText;
                const startTime = Date.now();

                function update() {
                    const elapsed = Date.now() - startTime;
                    const progress = elapsed / duration;

                    if (progress < 1) {
                        let scrambled = "";
                        for (let i = 0; i < originalText.length; i++) {
                            if (originalText[i] === " ") {
                                scrambled += " ";
                            } else {
                                scrambled += (Math.random() > progress)
                                    ? chars[Math.floor(Math.random() * chars.length)]
                                    : originalText[i];
                            }
                        }
                        element.innerText = scrambled;
                        requestAnimationFrame(update);
                    } else {
                        element.innerText = originalText;
                    }
                }
                update();
            }

            function glitchText() {
                wordIndex = (wordIndex + 1) % words.length;
                runGlitchEffect(textElement, words[wordIndex]);
                gsap.delayedCall(3, glitchText);
            }
            glitchText();
        }
    }

    // --- 4. CYBER AURA LOGIC (CANVAS OPTIMIZED) ---
    function startAuraAnimation() {
        const canvas = document.getElementById("hero-aura") as HTMLCanvasElement;
        if (!canvas) return;
        const ctx = canvas.getContext("2d");
        const noise2D = createNoise2D();

        let w, h;
        const resize = () => {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
        };
        window.addEventListener("resize", resize);
        resize();

        const blobCount = 10;
        const blobs = [];
        for (let i = 0; i < blobCount; i++) {
            blobs.push({
                x: Math.random() * w,
                y: Math.random() * h,
                size: gsap.utils.random(500, 1000),
                color: Math.random() > 0.5 ? "rgba(230, 0, 126, 0.4)" : "rgba(0, 176, 240, 0.4)",
                offset: Math.random() * 1000
            });
        }

        let lastTime = 0;
        const fps = 60;
        const interval = 1000 / fps;

        function animate(timestamp) {
            if (!lastTime) lastTime = timestamp;
            const elapsed = timestamp - lastTime;

            if (elapsed > interval) {
                lastTime = timestamp - (elapsed % interval);
                const time = Date.now() * 0.0002;

                if (ctx) {
                    ctx.clearRect(0, 0, w, h);

                    blobs.forEach(blob => {
                        const nX = noise2D(blob.offset, time * 0.1);
                        const nY = noise2D(blob.offset + 100, time * 0.1);
                        const nOpacity = noise2D(blob.offset + 200, time * 0.05);

                        const x = blob.x + nX * (w * 0.15);
                        const y = blob.y + nY * (h * 0.15);
                        const opacity = Math.max(0.1, 0.2 + (nOpacity * 0.2));

                        const grad = ctx.createRadialGradient(x, y, 0, x, y, blob.size);
                        grad.addColorStop(0, blob.color.replace("0.4", opacity.toFixed(2)));
                        grad.addColorStop(1, "transparent");

                        ctx.fillStyle = grad;
                        ctx.beginPath();
                        ctx.arc(x, y, blob.size, 0, Math.PI * 2);
                        ctx.fill();
                    });
                }
            }
            requestAnimationFrame(animate);
        }
        requestAnimationFrame(animate);
    }



    // --- 7. MOBILE MENU LOGIC ---
    const mobileMenu = document.getElementById('mobile-menu');
    const openMenuBtn = document.getElementById('open-menu');
    const closeMenuBtn = document.getElementById('close-menu');
    const mobileLinks = document.querySelectorAll('.mobile-nav-link');

    function toggleMenu() {
        if (mobileMenu && mobileMenu.classList.contains('pointer-events-none')) {
            // Open
            mobileMenu.classList.remove('pointer-events-none', 'opacity-0');
            gsap.fromTo(".mobile-nav-link",
                { y: 20, opacity: 0 },
                { y: 0, opacity: 1, stagger: 0.1, duration: 0.4, ease: "power2.out" }
            );
        } else if (mobileMenu) {
            // Close
            mobileMenu.classList.add('opacity-0', 'pointer-events-none');
        }
    }

    if (openMenuBtn) openMenuBtn.addEventListener('click', toggleMenu);
    if (closeMenuBtn) closeMenuBtn.addEventListener('click', toggleMenu);
    mobileLinks.forEach(link => link.addEventListener('click', toggleMenu));

    // --- 6. DYNAMIC GYM STATUS ---
    function updateGymStatus() {
        const statusText = document.getElementById("status-text");
        const statusIndicator = document.getElementById("status-indicator");
        if (!statusText || !statusIndicator) return;

        const now = new Date();
        const day = now.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday
        const hour = now.getHours();
        const minute = now.getMinutes();
        const currentTime = hour + minute / 60;

        let isOpen = false;

        if (day >= 1 && day <= 5) { // Monday - Friday
            if (currentTime >= 8 && currentTime < 22) isOpen = true;
        } else { // Weekend (Saturday & Sunday)
            if (currentTime >= 10 && currentTime < 18) isOpen = true;
        }

        if (isOpen) {
            statusText.innerText = "Gym ist geöffnet";
            statusText.className = "text-xs text-green-400 uppercase tracking-widest font-bold";
            statusIndicator.className = "size-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_10px_rgba(34,197,94,0.8)]";
        } else {
            statusText.innerText = "Gym ist gerade geschlossen";
            statusText.className = "text-xs text-red-500 uppercase tracking-widest font-bold";
            statusIndicator.className = "size-2 bg-red-600 rounded-full shadow-[0_0_10px_rgba(220,38,38,0.8)]";
        }
    }

    updateGymStatus();
    // Check every minute
    setInterval(updateGymStatus, 60000);
</script>
